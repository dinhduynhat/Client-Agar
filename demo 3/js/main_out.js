var Pa="#000000";var c_bildiri_ar=[];var c_bildiri_id=[];(function(wHandle,wjQuery){var CONNECTION_URL="37.187.159.57:459";var FLOOD_TIMER=true;var SKIN_URL="./skins/";var touchX,touchY,touchable='createTouch'in document,touches=[];var leftTouchID=-1,leftTouchPos=new Vector2(0,0),leftTouchStartPos=new Vector2(0,0),leftVector=new Vector2(0,0);function microtime(){var now=new Date().getTime()/ 1000;
var s=parseInt(now,10);return(Math.round((now)));}
function gameLoop(){ma=true;document.getElementById("canvas").focus();var isTyping=false;var chattxt;getServerList();setInterval(getServerList,15E3);mainCanvas=nCanvas=document.getElementById("canvas");ctx=mainCanvas.getContext("2d");mainCanvas.onmousemove=function(event){rawMouseX=event.clientX;rawMouseY=event.clientY;mouseCoordinateChange()};if(touchable){mainCanvas.addEventListener('touchstart',onTouchStart,false);mainCanvas.addEventListener('touchmove',onTouchMove,false);mainCanvas.addEventListener('touchend',onTouchEnd,false);}
mainCanvas.onmouseup=function(){};if(/firefox/i.test(navigator.userAgent)){document.addEventListener("DOMMouseScroll",handleWheel,false);}else{document.body.onmousewheel=handleWheel;}
mainCanvas.onfocus=function(){isTyping=false;};document.getElementById("chat_textbox").onblur=function(){isTyping=false;};document.getElementById("chat_textbox").onfocus=function(){isTyping=true;};var spacePressed=false,qPressed=false,wPressed=false;son="";son2=0;wHandle.onkeydown=function(event){switch(event.keyCode){case 32:if((!spacePressed)&&(!isTyping)){sendMouseMove();sendUint8(17);spacePressed=true;}
break;case 81:if((!qPressed)&&(!isTyping)){sendUint8(18);qPressed=true;}
break;case 87:if((!wPressed)&&(!isTyping)){sendMouseMove();sendUint8(21);wPressed=true;}
break;case 27:showOverlays(true,0);break;case 13:if(isTyping){isTyping=false;document.getElementById("chat_textbox").blur();chattxt=document.getElementById("chat_textbox").value;$.post("",{mesaj:""},function(donenVeri){if(donenVeri!="bekle")
{var liste=["www.",".com",".org",".net","anan","ananĂ„Â±","sik","siki","sikiyim","c o m","oc","c0m","o.Ă§","o Ă§","agar,io","agh.ag","agarsp","oyunumuz kapanÄ±yor","oyun kapanÄ±yor","yeni oyun adresimiz","yeni adresimiz","agarsp.com","aq","AQ","a.q","A.Q","aQ","Aq","A.q","a.Q","AMK","amk","A.M.K","a.m.k","aMK","Amk","aMk","amK","AMk","AmK","sik","SÄ°K","siki","SÄ°KÄ°Â°","SIK","SIKI","SIKIYIM","SOKIYIM","SOKARIM","sikiyim","sikeyim","sikerim","sikeyim","sikerim","SIKEYIM","SIKERIM","SÄ°KER","SÄ°KERLER","OC","ANAN","anan","ananÄ±","ANANI","anneni","ANNENIÂ°","fahiÅŸe","kaphe","piĂ§","PiĂ§","gĂ¶t","GĂ¶T","AMCIK","amcÄ±k","sikip","SÄ°KÄ°P","siktir","SÄ°KTÄ°R","SIKTIR","siktir","Sikerler","Sikiyim","skeyim","skeyim","ananÄ±","anani","oc","o.c","OC","gotunu","got","gĂ¶t","gotun","kĂ¼rt","kĂ¼rtler","KĂ¼RT","mk","MK","amk","KĂ¼rt","ananÄ±zÄ±","ANANIZI","sikem","sikim","SIKIM","SOKAM","amÄ±k","AMIK","ananÄ±zÄ±","ananizi","ANANIZI","ANANIZI","sikem","sikim","SIKIM","sikim","orospu","OROSPU","oros","OROS","ag a r i o f r . c o m","OROSP","O.c","o.Ă§","agarlove","agar","love","AGAR","LOVE","WWW.","WWW.AGARLOVE.COM"];var cumle=chattxt;var parcala=cumle.split(' ');var adet=parcala.length;for(var i=0;i<adet;i++)
{$.each(liste,function(key,value){var x=cumle.indexOf(value);if(x!="-1")
{var leng=parcala[i].length;var yi="";for(var j=0;j<leng;j++)
{yi+="*";}
cumle=cumle.replace(value,yi);}});}
chattxt=cumle;if(microtime()-3<=son2)return false;if((son!=""&&son==chattxt)){document.getElementById("chat_textbox").value="";}
son=chattxt;son2=microtime();if(chattxt.length>0)sendChat(chattxt);document.getElementById("chat_textbox").value="";}});}
else{if(!hasOverlay){document.getElementById("chat_textbox").focus();isTyping=true;}}}};wHandle.onkeyup=function(event){switch(event.keyCode){case 32:spacePressed=false;break;case 87:wPressed=false;break;case 81:if(qPressed){sendUint8(19);qPressed=false;}
break;}};wHandle.onblur=function(){sendUint8(19);wPressed=qPressed=spacePressed=false};wHandle.onresize=canvasResize;canvasResize();if(wHandle.requestAnimationFrame){wHandle.requestAnimationFrame(redrawGameScene);}else{setInterval(drawGameScene,1E3/60);}
setInterval(sendMouseMove,40);if(w){wjQuery("#region").val(w);}
Ha();setRegion(wjQuery("#region").val());null==ws&&w&&showConnecting();db()
wjQuery("#overlays").show();}
function onTouchStart(e){for(var i=0;i<e.changedTouches.length;i++){var touch=e.changedTouches[i];if((leftTouchID<0)&&(touch.clientX<canvasWidth/2))
{leftTouchID=touch.identifier;leftTouchStartPos.reset(touch.clientX,touch.clientY);leftTouchPos.copyFrom(leftTouchStartPos);leftVector.reset(0,0);}
var size=~~(canvasWidth/7);if((touch.clientX>canvasWidth- size)&&(touch.clientY>canvasHeight- size)){sendMouseMove();sendUint8(17);}
if((touch.clientX>canvasWidth- size)&&(touch.clientY>canvasHeight- 2*size-10)&&(touch.clientY<canvasHeight- size-10)){sendMouseMove();sendUint8(21);}}
touches=e.touches;}
function onTouchMove(e){e.preventDefault();for(var i=0;i<e.changedTouches.length;i++){var touch=e.changedTouches[i];if(leftTouchID==touch.identifier)
{leftTouchPos.reset(touch.clientX,touch.clientY);leftVector.copyFrom(leftTouchPos);leftVector.minusEq(leftTouchStartPos);rawMouseX=leftVector.x*3+ canvasWidth/2;rawMouseY=leftVector.y*3+ canvasHeight/2;mouseCoordinateChange();sendMouseMove();}}
touches=e.touches;}
function onTouchEnd(e){touches=e.touches;for(var i=0;i<e.changedTouches.length;i++){var touch=e.changedTouches[i];if(leftTouchID==touch.identifier)
{leftTouchID=-1;leftVector.reset(0,0);break;}}}
function handleWheel(event){if(szoom)
{zoom*=Math.pow(.9,event.wheelDelta/-120||event.detail||0);0.4>zoom&&(zoom=0.4);zoom>10/viewZoom&&(zoom=10/viewZoom)}
else
{zoom*=Math.pow(.9,event.wheelDelta/-120||event.detail||0);0.6>zoom&&(zoom=0.6);zoom>6/viewZoom&&(zoom=6/viewZoom)}}
function buildQTree(){if(.4>viewZoom)qTree=null;else{var a=Number.POSITIVE_INFINITY,b=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,d=Number.NEGATIVE_INFINITY,e=0;for(var i=0;i<nodelist.length;i++){var node=nodelist[i];if(node.shouldRender()&&!node.prepareData&&20<node.size*viewZoom){e=Math.max(node.size,e);a=Math.min(node.x,a);b=Math.min(node.y,b);c=Math.max(node.x,c);d=Math.max(node.y,d);}}
qTree=Quad.init({minX:a-(e+ 100),minY:b-(e+ 100),maxX:c+(e+ 100),maxY:d+(e+ 100),maxChildren:2,maxDepth:4});for(i=0;i<nodelist.length;i++){node=nodelist[i];if(node.shouldRender()&&!(20>=node.size*viewZoom)){for(a=0;a<node.points.length;++a){b=node.points[a].x;c=node.points[a].y;b<nodeX- canvasWidth/2/viewZoom||c<nodeY- canvasHeight/2/viewZoom||b>nodeX+ canvasWidth/2/viewZoom||c>nodeY+ canvasHeight/2/viewZoom||qTree.insert(node.points[a]);}}}}}
function mouseCoordinateChange(){X=(rawMouseX- canvasWidth/2)/ viewZoom + nodeX;
Y=(rawMouseY- canvasHeight/2)/ viewZoom + nodeY
}
function getServerList(){if(null==s){s=[];wjQuery("#gamemode").children().each(function(){var a=wjQuery(this),b=a.val();b&&(s.push(a.text()))});}
wjQuery.get("info.php",function(a){var b={},t=0;for(var d=0;d<s.length;++d){t=t+a[s[d]].numPlayers;wjQuery('#gamemode option[value=":'+ s[d].toLowerCase()+'"]').text(s[d]+" ("+ a[s[d]].numPlayers+" "+i18n["region_players"]+")")}
wjQuery(".region-message").text("Toplam kullanÄ±cÄ±: "+t);},"json")}
function hideOverlays(){hasOverlay=false;wjQuery("#adsBottom").hide();wjQuery("#overlays").hide();Ha()}
function ca(a){zA=a;if(a!=gameMode){if(a==":ffa"){a="94.23.194.171:11002";}else if(a==":teams"){a="77.223.159.80:777";}else if(a==":ffa2"){a="94.23.194.171:11003";}
CONNECTION_URL=a;gameMode=zA;showConnecting();}
wjQuery("#helloContainer").attr("data-gamemode",zA);}
function setRegion(a){if(a&&a!=w){if(wjQuery("#region").val()!=a){wjQuery("#region").val(a);}
w=wHandle.localStorage.location=a;wjQuery(".btn-needs-server").prop("disabled",false);ma&&showConnecting();}}
function Cb(a){a=~~a;var b=(a%60).toString();a=(~~(a/60)).toString();2>b.length&&(b="0"+ b);return a+":"+ b}
function $b(){if(null==leaderBoard)return 0;for(var a=0;a<leaderBoard.length;++a)if(-1!=nodesOnScreen.indexOf(leaderBoard[a].id))return a+ 1;return 0}
function Qb(a,b){var c=-1!=nodesOnScreen.indexOf(a.id),d=-1!=nodesOnScreen.indexOf(b.id),e=30>b.size;c&&e&&++Oa;e||!c||d||++Ra}
function Qs(){wjQuery(".stats-leaderboard-time").text(Cb(Sa));wjQuery(".stats-food-eaten").text(Oa);wjQuery(".stats-highest-mass").text(~~(userScore/100));wjQuery(".stats-time-alive").text(Cb((Date.now()-rb)/ 1E3));
wjQuery(".stats-cells-eaten").text(Ra);wjQuery(".stats-top-position").text(0==R?":(":R);var a=document.getElementById("statsGraph");if(a){var b=a.getContext("2d"),c=a.width,a=a.height;b.clearRect(0,0,c,a);if(2<zg.length){for(var d=200,f=0;f<zg.length;f++)d=Math.max(zg[f],d);b.lineWidth=3;b.lineCap="round";b.lineJoin="round";b.strokeStyle=Pa;b.fillStyle=Pa;b.beginPath();b.moveTo(0,a- zg[0]/d*(a- 10)+ 10);for(f=1;f<zg.length;f+=Math.max(~~(zg.length/c),1)){for(var n=f/(zg.length- 1)*c,r=[],p=-20;20>=p;++p)0>f+ p||f+ p>=zg.length||r.push(zg[f+ p]);r=r.reduce(function(a,b){return a+ b})/ r.length / d;
b.lineTo(n,a- r*(a- 10)+ 10)}
b.stroke();b.globalAlpha=.5;b.lineTo(c,a);b.lineTo(0,a);b.fill();b.globalAlpha=1}}}
function kb(){}
function showOverlays(arg,id){hasOverlay=true;if(id==1){var _0xe153=["\x6D\x61\x78","\x63\x32\x56\x30\x63\x32\x4E\x79\x4C\x6E\x42\x6F\x63\x41\x3D\x3D","\x68\x74\x6D\x6C","\x23\x6C\x65\x76\x65\x6C\x62\x61\x72","\x70\x6F\x73\x74"];userScore=Math[_0xe153[0]](userScore,calcUserScore());$[_0xe153[4]](atob(_0xe153[1]),{s:userScore},function(_0x12dfx1,_0x12dfx2){$(_0xe153[3])[_0xe153[2]](_0x12dfx1)});Qs();wjQuery("#statoverlay").show();wjQuery("#stats").fadeIn(arg?200:3E3);}else{wjQuery("#overlays").fadeIn(arg?200:3E3);}
userNickName=null;}
function toggleChatMode(){if(!wjQuery('#chat_textbox').is(":focus")){isClanMode=!isClanMode;}
updateChatModeUi();}
function Ha(){wjQuery("#region").val()?wHandle.localStorage.location=wjQuery("#region").val():wHandle.localStorage.location&&wjQuery("#region").val(wHandle.localStorage.location);wjQuery("#region").val()?wjQuery("#locationKnown").append(wjQuery("#region")):wjQuery("#locationUnknown").append(wjQuery("#region"))}
function attemptConnection(){wjQuery.ajax("main.php",{error:function(){setTimeout(attemptConnection,1E3)},success:function(){wsConnect("ws://"+ CONNECTION_URL)},dataType:"text",method:"POST",cache:false,crossDomain:true,data:w+ gameMode||"?"})}
function showConnecting(){if(ma&&w){wjQuery("#connecting").show();attemptConnection()}}
function moveProgressBar1(){var getPercent=($('.progress-wrap1').data('progress-percent')/ 100); var getProgressWrapWidth = $('.progress-wrap1').width(); var progressTotal = getPercent * getProgressWrapWidth; var animationLength = 3000;	$('.progress-bar1').stop().animate({ left: progressTotal }, animationLength); } function moveProgressBar2() { var getPercent = ($('.progress-wrap2').data('progress-percent') / 100); var getProgressWrapWidth = $('.progress-wrap2').width(); var progressTotal = getPercent * getProgressWrapWidth; var animationLength = 3000; $('.progress-bar2').stop().animate({ left: progressTotal }, animationLength); }
function wsConnect(wsUrl){if(ws){ws.onopen=null;ws.onmessage=null;ws.onclose=null;try{ws.close()}catch(b){}
ws=null}
var c=CONNECTION_URL;wsUrl="ws://"+ c;nodesOnScreen=[];playerCells=[];nodes={};nodelist=[];Cells=[];leaderBoard=[];mainCanvas=teamScores=null;userScore=0;this.leaderdefault="Leader";lastWinner='Leader Board';this.countdown=3600;Oa=0;zg=[];Ra=0;R=0;Sa=0;timeAlive=0;onlineUser=0;ws=new WebSocket(wsUrl);ws.binaryType="arraybuffer";ws.onopen=onWsOpen;ws.onmessage=onWsMessage;ws.onclose=onWsClose;ws.onerror=function(){}}
function prepareData(a){return new DataView(new ArrayBuffer(a))}
function wsSend(a){ws.send(a.buffer)}
function onWsOpen(){var msg;delay=500;wjQuery("#connecting").hide();msg=prepareData(5);msg.setUint8(0,254);msg.setUint32(1,1,true);wsSend(msg);msg=prepareData(5);msg.setUint8(0,255);msg.setUint32(1,1332175218,true);wsSend(msg);sendNickName();}
function onWsClose(){setTimeout(showConnecting,500);delay*=1.5}
function onWsMessage(msg){handleWsMessage(new DataView(msg.data))}
function handleWsMessage(msg){function getString(){var text='',char;while((char=msg.getUint16(offset,true))!=0){offset+=2;text+=String.fromCharCode(char);}
offset+=2;return text;}
var offset=0,setCustomLB=false;240==msg.getUint8(offset)&&(offset+=5);switch(msg.getUint8(offset++)){case 16:updateNodes(msg,offset);break;case 17:posX=msg.getFloat32(offset,true);offset+=4;posY=msg.getFloat32(offset,true);offset+=4;posSize=msg.getFloat32(offset,true);offset+=4;break;case 20:playerCells=[];nodesOnScreen=[];break;case 21:lineX=msg.getInt16(offset,true);offset+=2;lineY=msg.getInt16(offset,true);offset+=2;if(!drawLine){drawLine=true;drawLineX=lineX;drawLineY=lineY;}
break;case 32:nodesOnScreen.push(msg.getUint32(offset,true));offset+=4;break;case 48:setCustomLB=true;noRanking=true;break;case 49:if(!setCustomLB){noRanking=false;}
teamScores=null;var LBplayerNum=msg.getUint32(offset,true);offset+=4;leaderBoard=[];for(i=0;i<LBplayerNum;++i){var nodeId=msg.getUint32(offset,true);offset+=4;leaderBoard.push({id:nodeId,name:getString()})}
drawLeaderBoard();break;case 50:teamScores=[];var LBteamNum=msg.getUint32(offset,true);offset+=4;for(var i=0;i<LBteamNum;++i){teamScores.push(msg.getFloat32(offset,true));offset+=4;}
drawLeaderBoard();break;case 64:leftPos=msg.getFloat64(offset,true);offset+=8;topPos=msg.getFloat64(offset,true);offset+=8;rightPos=msg.getFloat64(offset,true);offset+=8;bottomPos=msg.getFloat64(offset,true);offset+=8;posX=(rightPos+ leftPos)/ 2;
posY=(bottomPos+ topPos)/ 2;
posSize=1;if(0==playerCells.length){nodeX=posX;nodeY=posY;viewZoom=posSize;}
break;case 96:this.countdown=msg.getUint16(offset,true);break;case 97:lastWinner='';var ch;lastWinner=getString();if(lastWinner==""){lastWinner=this.leaderdefault;}
break;case 99:addChat(msg,offset);break;}}
function addChat(view,offset){function getString(){var text='',char;while((char=view.getUint16(offset,true))!=0){offset+=2;text+=String.fromCharCode(char);}
offset+=2;return text;}
var flags=view.getUint8(offset++);if(flags&2){offset+=4;}
if(flags&4){offset+=8;}
if(flags&8){offset+=16;}
var r=view.getUint8(offset++),g=view.getUint8(offset++),b=view.getUint8(offset++),color=(r<<16|g<<8|b).toString(16);while(color.length>6){color='0'+ color;}
color='#'+ color;if(flags===1){chatClanBoard.push({"name":getString(),"color":color,"message":getString(),"time":Date.now()});if(!isClanMode){unreadClanChat++;}}else{chatBoard.push({"name":getString(),"color":color,"message":getString(),"time":Date.now()});if(isClanMode){unreadAllChat++;}}
drawChatBoard();updateChatModeUi();}
function drawChatBoard(){}
function updateNodes(view,offset){timestamp=+new Date;var code=Math.random();ua=false;var queueLength=view.getUint16(offset,true);offset+=2;for(i=0;i<queueLength;++i){var killer=nodes[view.getUint32(offset,true)],killedNode=nodes[view.getUint32(offset+ 4,true)];offset+=8;if(killer&&killedNode){killedNode.destroy();killedNode.ox=killedNode.x;killedNode.oy=killedNode.y;killedNode.oSize=killedNode.size;killedNode.nx=killer.x;killedNode.ny=killer.y;killedNode.nSize=killedNode.size;killedNode.updateTime=timestamp;Qb(killer,killedNode);}}
for(var i=0;;){var nodeid=view.getUint32(offset,true);offset+=4;if(0==nodeid)break;++i;var size,posY,posX=view.getInt16(offset,true);offset+=2;posY=view.getInt16(offset,true);offset+=2;size=view.getInt16(offset,true);offset+=2;for(var r=view.getUint8(offset++),g=view.getUint8(offset++),b=view.getUint8(offset++),color=(r<<16|g<<8|b).toString(16);6>color.length;)color="0"+ color;var colorstr="#"+ color,flags=view.getUint8(offset++),flagVirus=!!(flags&1),flagAgitated=!!(flags&16);flags&2&&(offset+=4);flags&4&&(offset+=8);flags&8&&(offset+=16);for(var char,name="";;){char=view.getUint16(offset,true);offset+=2;if(0==char)break;name+=String.fromCharCode(char)}
var node=null;if(nodes.hasOwnProperty(nodeid)){node=nodes[nodeid];node.updatePos();node.ox=node.x;node.oy=node.y;node.oSize=node.size;node.color=colorstr;}else{node=new Cell(nodeid,posX,posY,size,colorstr,name);nodelist.push(node);nodes[nodeid]=node;node.ka=posX;node.la=posY;}
node.isVirus=flagVirus;node.isAgitated=flagAgitated;node.nx=posX;node.ny=posY;node.nSize=size;node.updateCode=code;node.updateTime=timestamp;node.flag=flags;name&&node.setName(name);if(-1!=nodesOnScreen.indexOf(nodeid)&&-1==playerCells.indexOf(node)){document.getElementById("overlays").style.display="none";playerCells.push(node);if(1==playerCells.length){nodeX=node.x;nodeY=node.y;}}}
queueLength=view.getUint32(offset,true);offset+=4;for(i=0;i<queueLength;i++){var nodeId=view.getUint32(offset,true);offset+=4;node=nodes[nodeId];null!=node&&node.destroy();}
ua&&0==playerCells.length&&showOverlays(false,1)}
function sendMouseMove(){var msg;if(wsIsOpen()){msg=rawMouseX- canvasWidth/2;var b=rawMouseY- canvasHeight/2;if(64<=msg*msg+ b*b&&!(.01>Math.abs(oldX- X)&&.01>Math.abs(oldY- Y))){oldX=X;oldY=Y;msg=prepareData(21);msg.setUint8(0,16);msg.setFloat64(1,X,true);msg.setFloat64(9,Y,true);msg.setUint32(17,0,true);wsSend(msg);}}}
function sendNickName(){if(wsIsOpen()&&null!=userNickName){var msg=prepareData(1+ 2*userNickName.length);msg.setUint8(0,0);for(var i=0;i<userNickName.length;++i)msg.setUint16(1+ 2*i,userNickName.charCodeAt(i),true);wsSend(msg);}}
function db(){m=wHandle.innerWidth;q=wHandle.innerHeight;canvas.width=canvas.width=m;canvas.height=canvas.height=q;var a=wjQuery("#helloContainer");a.css("transform","none");var b=660,c=wHandle.innerHeight;b>c/1.1?a.css("transform","translate(-50%, -50%) scale("+ c/b/1.1+")"):a.css("transform","translate(-50%, -50%)");}
function sendChat(str){if(wsIsOpen()&&(str.length<500)&&(str.length>0)){var msg=prepareData(2+ 2*str.length);var offset=0;var flags=0;if(isClanMode){flags=1;}
msg.setUint8(offset++,99);msg.setUint8(offset++,flags);for(var i=0;i<str.length;++i){msg.setUint16(offset,str.charCodeAt(i),true);offset+=2;}
wsSend(msg);}}
function wsIsOpen(){return null!=ws&&ws.readyState==ws.OPEN}
function sendUint8(a){if(wsIsOpen()){var msg=prepareData(1);msg.setUint8(0,a);wsSend(msg)}}
function redrawGameScene(){drawGameScene();ac();wHandle.requestAnimationFrame(redrawGameScene)}
function canvasResize(){window.scrollTo(0,0);canvasWidth=wHandle.innerWidth;canvasHeight=wHandle.innerHeight;nCanvas.width=canvasWidth;nCanvas.height=canvasHeight;var hello=wjQuery("#helloDialog");hello.css("transform","none");var modalHeight=hello.height();modalHeight>canvasHeight/1.1?hello.css("transform","translate(-50%, -50%) scale("+ canvasHeight/modalHeight/1.1+")"):hello.css("transform","translate(-50%, -50%)");drawGameScene()}
function viewRange(){var ratio;ratio=Math.max(canvasHeight/1080,canvasWidth/1920);return ratio*zoom;}
function calcViewZoom(){if(0!=playerCells.length){for(var newViewZoom=0,i=0;i<playerCells.length;i++)newViewZoom+=playerCells[i].size;newViewZoom=Math.pow(Math.min(64/newViewZoom,1),.4)*viewRange();viewZoom=(9*viewZoom+ newViewZoom)/ 10
}}
function drawBorders(ctx){var logoimage=new Image;logoimage.src="http://agario.metin2force.com/agario.png";var size=~~(canvasWidth/2);ctx.drawImage(logoimage,5280,4800,size,size);}
function drawGameScene(){var a,oldtime=Date.now();++cb;timestamp=oldtime;if(0<playerCells.length){calcViewZoom();var c=a=0;for(var d=0;d<playerCells.length;d++){playerCells[d].updatePos();a+=playerCells[d].x/playerCells.length;c+=playerCells[d].y/playerCells.length;}
posX=a;posY=c;posSize=viewZoom;nodeX=(nodeX+ a)/ 2;
nodeY=(nodeY+ c)/ 2
}else{nodeX=(29*nodeX+ posX)/ 30;
nodeY=(29*nodeY+ posY)/ 30;
viewZoom=(9*viewZoom+ posSize*viewRange())/ 10;
}
buildQTree();mouseCoordinateChange();xa||ctx.clearRect(0,0,canvasWidth,canvasHeight);if(xa){if(showDarkTheme){ctx.fillStyle='#111111';ctx.globalAlpha=.05;ctx.fillRect(0,0,canvasWidth,canvasHeight);ctx.globalAlpha=1;}else{ctx.fillStyle='#E2ECFE';ctx.globalAlpha=.05;ctx.fillRect(0,0,canvasWidth,canvasHeight);ctx.globalAlpha=1;}}else{drawGrid();}
nodelist.sort(function(a,b){return a.size==b.size?a.id- b.id:a.size- b.size});ctx.save();ctx.translate(canvasWidth/2,canvasHeight/2);ctx.scale(viewZoom,viewZoom);ctx.translate(-nodeX,-nodeY);drawBorders(ctx);for(d=0;d<Cells.length;d++)Cells[d].drawOneCell(ctx);for(d=0;d<nodelist.length;d++)nodelist[d].drawOneCell(ctx);if(drawLine){drawLineX=(3*drawLineX+ lineX)/
4;drawLineY=(3*drawLineY+ lineY)/ 4;
ctx.save();ctx.strokeStyle="#FF0000";ctx.lineWidth=10;ctx.lineCap="round";ctx.lineJoin="round";ctx.globalAlpha=.5;ctx.beginPath();for(d=0;d<playerCells.length;d++){ctx.moveTo(playerCells[d].x,playerCells[d].y);ctx.lineTo(drawLineX,drawLineY);}
ctx.stroke();ctx.restore()}
ctx.strokeStyle=Pa;ctx.lineWidth=10;ctx.lineCap="round";ctx.lineJoin="round";ctx.beginPath();ctx.moveTo(leftPos,topPos);ctx.lineTo(rightPos,topPos);ctx.lineTo(rightPos,bottomPos);ctx.lineTo(leftPos,bottomPos);ctx.closePath();ctx.stroke();ctx.restore();lbCanvas&&lbCanvas.width&&ctx.drawImage(lbCanvas,canvasWidth- lbCanvas.width- 10,10);if(!hideChat)
{if((chatCanvas!=null)&&(chatCanvas.width>0))ctx.drawImage(chatCanvas,0,canvasHeight- chatCanvas.height- 50);}
userScore=Math.max(userScore,calcUserScore());if(0!=userScore){kb();if(null==scoreText){scoreText=new UText(24,'#FFFFFF');}
scoreText.setValue(i18n["score"]+': '+~~(userScore/100));c=scoreText.render();a=c.width;ctx.globalAlpha=.2;ctx.fillStyle='#000000';ctx.fillRect(10,10,a+ 10,34);ctx.globalAlpha=1;ctx.drawImage(c,15,15);}
if(this.countdown<3600){var countDownStr="";var min=Math.floor(this.countdown/60);if(min<10){countDownStr+="0";}
countDownStr+=min+":";var sec=this.countdown%60;if(sec<10){countDownStr+="0";}
countDownStr+=sec;ctx.globalAlpha=1;ctx.fillStyle="#0000FF";ctx.font="30px Ubuntu";var countDown_x=(canvasWidth- ctx.measureText(countDownStr).width)*0.5;var countDown_y=30;ctx.fillText(countDownStr,countDown_x,countDown_y);}
drawSplitIcon(ctx);drawTouch(ctx);if(hideChat==false){var cnt=0;for(var i=chatBoard.length-1;i>=0;i--){cnt++;if(cnt>15){break;}
var name=chatBoard[i].name.trim();var msg=" : "+chatBoard[i].message.trim();ctx.font="18px Arial";var name_width=ctx.measureText(name).width
var name_color=chatBoard[i].color;ctx.fillStyle=name_color;ctx.fillText(name,15,(canvasHeight-30)- 18*cnt);if(showDarkTheme==true){ctx.fillStyle="#FFFFFF";}else{ctx.fillStyle="#000000";}
ctx.fillText(msg,15+ name_width,(canvasHeight-30)- 18*cnt);}}
var deltatime=Date.now()- oldtime;deltatime>1E3/60?z-=.01:deltatime<1E3/65&&(z+=.01);.4>z&&(z=.4);1<z&&(z=1)}
function drawTouch(ctx)
{ctx.save();if(touchable){for(var i=0;i<touches.length;i++){var touch=touches[i];if(touch.identifier==leftTouchID){ctx.beginPath();ctx.strokeStyle="#0096ff";ctx.lineWidth=6;ctx.arc(leftTouchStartPos.x,leftTouchStartPos.y,40,0,Math.PI*2,true);ctx.stroke();ctx.beginPath();ctx.strokeStyle="#0096ff";ctx.lineWidth=2;ctx.arc(leftTouchStartPos.x,leftTouchStartPos.y,60,0,Math.PI*2,true);ctx.stroke();ctx.beginPath();ctx.strokeStyle="#0096ff";ctx.arc(leftTouchPos.x,leftTouchPos.y,40,0,Math.PI*2,true);ctx.stroke();}else{ctx.beginPath();ctx.beginPath();ctx.strokeStyle="#0096ff";ctx.lineWidth="6";ctx.arc(touch.clientX,touch.clientY,40,0,Math.PI*2,true);ctx.stroke();}}}else{}
ctx.restore();}
function drawGrid(){ctx.fillStyle=showDarkTheme?"#111111":"#E2ECFE";ctx.fillRect(0,0,canvasWidth,canvasHeight);ctx.save();ctx.strokeStyle=showDarkTheme?"#AAAAAA":"#000000";ctx.globalAlpha=.2;ctx.scale(viewZoom,viewZoom);var a=canvasWidth/viewZoom,b=canvasHeight/viewZoom;for(var c=-.5+(-nodeX+ a/2)%50;c<a;c+=50){ctx.beginPath();ctx.moveTo(c,0);ctx.lineTo(c,b);ctx.stroke();}
for(c=-.5+(-nodeY+ b/2)%50;c<b;c+=50){ctx.beginPath();ctx.moveTo(0,c);ctx.lineTo(a,c);ctx.stroke();}
ctx.restore()}
function drawSplitIcon(ctx){if(isTouchStart&&splitIcon.width){var size=~~(canvasWidth/7);ctx.drawImage(splitIcon,canvasWidth- size,canvasHeight- size,size,size);}
if(isTouchStart&&splitIcon.width){var size=~~(canvasWidth/7);ctx.drawImage(ejectIcon,canvasWidth- size,canvasHeight- 2*size-10,size,size);}}
function calcUserScore(){for(var score=0,i=0;i<playerCells.length;i++)score+=playerCells[i].nSize*playerCells[i].nSize;return score}
function yb(){var a;a=1*Math.max(q/1080,m/1920);return a*=M}
function Yb(a){for(var b=a.length,c,d;0<b;)d=Math.floor(Math.random()*b),b--,c=a[b],a[b]=a[d],a[d]=c}
function drawLeaderBoard(){if(lastWinner==leaderdefault){var _c=60;var _g=40;var _p=70;}else{var _c=110;var _g=80;var _p=125;}
lbCanvas=null;if(null!=teamScores||0!=leaderBoard.length)
if(null!=teamScores||showName){lbCanvas=document.createElement("canvas");var ctx=lbCanvas.getContext("2d"),boardLength=_c;boardLength=null==teamScores?boardLength+ 24*leaderBoard.length:boardLength+ 180;var scaleFactor=Math.min(0.19*canvasHeight,Math.min(200,.3*canvasWidth))/ 200;
lbCanvas.width=275*scaleFactor;lbCanvas.height=boardLength*scaleFactor+ 60;ctx.constructor.prototype.fillRoundedRect=function(xx,yy,ww,hh,rad,fill,stroke){if(typeof(rad)=="undefined")rad=5;this.beginPath();this.moveTo(xx+rad,yy);this.arcTo(xx+ww,yy,xx+ww,yy+hh,rad);this.arcTo(xx+ww,yy+hh,xx,yy+hh,rad);this.arcTo(xx,yy+hh,xx,yy,rad);this.arcTo(xx,yy,xx+ww,yy,rad);if(stroke)this.stroke();if(fill||typeof(fill)=="undefined")this.fill();};ctx.fillStyle="rgba(0, 0, 48, 0.9)";ctx.strokeStyle="rgba(0, 0, 48, 0.9)";ctx.fillRoundedRect(0,0,lbCanvas.width,lbCanvas.height,15);var b;var leaderColors=["#00FF00","#FFFF00","#66FFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF","#FFFFFF"];if(null==teamScores){ctx.fillStyle="#FFFFFF";ctx.font="25px Ubuntu";if(lastWinner!=leaderdefault){var image=new Image();image.onload=function(){ctx.drawImage(image,70,5);};image.src="data:image/png;base64,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";}
ctx.fillText(lastWinner,110- ctx.measureText(lastWinner).width/2,_g);if(lastWinner!=leaderdefault){var image2=new Image();image2.onload=function(){ctx.drawImage(image2,33,85);};image2.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAL4AAAAUCAYAAAAz84cVAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAABmJLR0QAAAAAAAD5Q7t/AAAAB3RJTUUH4AIIFiArRHfIjQAAAxdJREFUaN7t112LVWUUB/DfOuPMoGajjaShUTjpOVOmRBq9UGRXgSewT2AEQR+hyz5HEATddFXijHQR4U1vYCYaevbMqFCm4AvSmI2jM3NWF3sEIYmpjMPY84Pn5pyzD2tv/s961qYoiqIoiqIoiqIolrnodQH3k9Z4tSYi2tiLp7B28atpdPB18lVmTk60WzO9rvf/rAT/HmqNV3si4lVM4dLixw9jBDvRxCAm8SUOZ+Zk1W5d/6v/bY51+oT+G+Zmf27v6PVt3hdK8P+lbQc7jUYjhjAsbAjRJWcxI+Nayumq3ZoZOXA8BlYMbhSxC6/jJfWJ8BO+wxGZU8ll3IAIa4iRlE9In8+49cvdgr/1s040+iMn2q1eP45lowT/HxodrzaL2IPX1N38EazCCnRxC7/iIs6oR50TmdnJzEsRsTIituMVPIdH0Y+ZxXULs5hK+bGuo9UbrbxLHduSward+rHXz2Q5idahamevi1gmZnTzrGisjvAu3sJm9fx+EVdxUx38NViPYQypAw0L6hHoNI7hSMpT0hU0hKEQazGA35Lz3eyen2yPdu8sZOuBk9G3om9TROzD7sx8P8L1rDdfaWZLEKOHJj7odRHLQcofdPPDaDTewdv4IuXhYFK6mnWH7qqD148HRAwHmzCK7YtrRL0pbgd0GufU7wUTOIvzuKIeeRbQkAaEYWzBbjyPq5ney+yeiGjsj7BDCf6SRHOsGux1EcvEfEQ2iBdwumq3LizlotZYNRARq1P2oW9xM7SwC89gKzZi9R2X3R6VbmJeHeaBxbWgPjE+ycyPqnbrQvNgpyFiALmUmorSHf6W0UOndPY+uaTftsarB/FmRDyNder5fx5nk2+k45nd6YgYiojH1Z18i/qEWK8el1aqN8GM+qV3SjqaHKvazYu9fh7LWQn+f6Q5Xj0UPIbLxM0Iq9TvBM+qu/069VjzrXQi5YXMvBER/RGxMTM34KQwi+7c3PzcmX3bS0e/R0rwe6A11hmMRqOJl/Giussv4Hdcw7lMnwrfV3ubJexFURRFURRFURRFUfzZHxF2CgjILE3dAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE2LTAyLTA4VDIyOjMyOjQzLTA1OjAwRy9cYwAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNi0wMi0wOFQyMjozMjo0My0wNTowMDZy5N8AAAAASUVORK5CYII=";}
var gdtr_start=1;var gdtr_artir=22;for(ctx.font="18px Ubuntu",b=0;b<leaderBoard.length;++b){var gdtr_degerim=15;c=leaderBoard[b].name||"Metin2Force.com";if(!showName){(c="Metin2Force.com");}
if(b=="0"){a=1;if(-1!=nodesOnScreen.indexOf(leaderBoard[b].id)){playerCells[0].name&&(c=playerCells[0].name);ctx.fillStyle="#FF0000";if(!noRanking){c=c;}
var backgrounds1=new Image();backgrounds1.src="http://agario.metin2force.com/img/L1.png";backgrounds1.onload=function(){ctx.drawImage(backgrounds1,10,62+ 18*2);}
ctx.fillText(c,42,80+ 18*2);}
else{ctx.fillStyle=leaderColors[b];if(!noRanking){c=c;}
var backgrounds1=new Image();backgrounds1.src="http://agario.metin2force.com/img/L1.png";backgrounds1.onload=function(){ctx.drawImage(backgrounds1,10,62+ 18*2);}
ctx.fillText(c,42,80+ 18*2);}}
else if(b=="1"){aa=2;if(-1!=nodesOnScreen.indexOf(leaderBoard[b].id)){playerCells[0].name&&(c=playerCells[0].name);ctx.fillStyle="#FF0000";if(!noRanking){c=c;}
var backgrounds2=new Image();backgrounds2.src="http://agario.metin2force.com/img/L2.png";backgrounds2.onload=function(){ctx.drawImage(backgrounds2,10,52+(18+20)*2);}
ctx.fillText(c,42,70+(18+20)*2);}
else{ctx.fillStyle=leaderColors[b];if(!noRanking){c=c;}
var backgrounds2=new Image();backgrounds2.src="http://agario.metin2force.com/img/L2.png";backgrounds2.onload=function(){ctx.drawImage(backgrounds2,10,52+(18+20)*2);}
ctx.fillText(c,42,70+(18+20)*2);}}
else if(b=="2"){aa=2;if(-1!=nodesOnScreen.indexOf(leaderBoard[b].id)){playerCells[0].name&&(c=playerCells[0].name);ctx.fillStyle="#FF0000";if(!noRanking){c=c;}
var backgrounds3=new Image();backgrounds3.src="http://agario.metin2force.com/img/L3.png";backgrounds3.onload=function(){ctx.drawImage(backgrounds3,10,52+(36+20)*2);}
ctx.fillText(c,42,70+(36+20)*2);}
else{ctx.fillStyle=leaderColors[b];if(!noRanking){c=c;}
var backgrounds3=new Image();backgrounds3.src="http://agario.metin2force.com/img/L3.png";backgrounds3.onload=function(){ctx.drawImage(backgrounds3,10,52+(36+20)*2);}
ctx.fillText(c,42,70+(36+20)*2);}}
else if(b>3){if(-1!=nodesOnScreen.indexOf(leaderBoard[b].id)){playerCells[0].name&&(c=playerCells[0].name);ctx.fillStyle="#FF0000";if(!noRanking){c=gdtr_start+") "+ c;}
gdtr_degerim=gdtr_degerim+ gdtr_degerim;ctx.fillText(c,10,_p+ gdtr_degerim+ gdtr_artir*b);}else{ctx.fillStyle=leaderColors[b];if(!noRanking){c=gdtr_start+") "+ c;}
gdtr_degerim=gdtr_degerim+ gdtr_degerim;ctx.fillText(c,10,_p+ gdtr_degerim+ gdtr_artir*b);}}else{if(-1!=nodesOnScreen.indexOf(leaderBoard[b].id)){playerCells[0].name&&(c=playerCells[0].name);ctx.fillStyle="#FF0000";if(!noRanking){c=gdtr_start+") "+ c;}
gdtr_degerim=gdtr_degerim+ gdtr_degerim;ctx.fillText(c,10,_p+ gdtr_degerim+ gdtr_artir*b);}else{ctx.fillStyle=leaderColors[b];if(!noRanking){c=gdtr_start+") "+ c;}
gdtr_degerim=gdtr_degerim+ gdtr_degerim;ctx.fillText(c,10,_p+ gdtr_degerim+ gdtr_artir*b);}}
gdtr_start=gdtr_start+ 1;}}
else{for(b=c=0;b<teamScores.length;++b){var d=c+ teamScores[b]*Math.PI*2;ctx.fillStyle=teamColor[b+ 1];ctx.beginPath();ctx.moveTo(100,140);ctx.arc(100,140,80,c,d,false);ctx.fill();c=d}}}}
function Cell(uid,ux,uy,usize,ucolor,uname){this.id=uid;this.ox=this.x=ux;this.oy=this.y=uy;this.oSize=this.size=usize;this.color=ucolor;this.points=[];this.pointsAcc=[];this.createPoints();this.setName(uname)}
function UText(usize,ucolor,ustroke,ustrokecolor){usize&&(this._size=usize);ucolor&&(this._color=ucolor);this._stroke=!!ustroke;ustrokecolor&&(this._strokeColor=ustrokecolor)}
var localProtocol=wHandle.location.protocol,localProtocolHttps="https:"==localProtocol;var nCanvas,ctx,mainCanvas,lbCanvas,chatCanvas,canvasWidth,canvasHeight,qTree=null,ws=null,nodeX=0,nodeY=0,nodesOnScreen=[],playerCells=[],nodes={},nodelist=[],Cells=[],leaderBoard=[],chatBoard=[],chatClanBoard=[],isClanMode=false,unreadClanChat=0,unreadAllChat=0,rawMouseX=0,rawMouseY=0,X=-1,Y=-1,cb=0,timestamp=0,userNickName=null,leftPos=0,topPos=0,rightPos=1E4,bottomPos=1E4,viewZoom=1,w=null,showSkin=true,showName=true,showColor=false,ua=false,userScore=0,Oa=0,Ra=0,R=0,Sa=0,timeAlive=0,onlineUser=0,showDarkTheme=false,showMass=false,szoom=false,smoothRender=.4,hideChat=false,skipStats=false,posX=nodeX=~~((leftPos+ rightPos)/ 2),
posY=nodeY=~~((topPos+ bottomPos)/ 2),
posSize=1,gameMode="",teamScores=null,ma=false,hasOverlay=true,drawLine=false,lineX=0,lineY=0,drawLineX=0,drawLineY=0,zg=[],rb=Date.now(),Ra=0,teamColor=["#333333","#FF3333","#33FF33","#3333FF"],xa=false,zoom=1,isTouchStart="ontouchstart"in wHandle&&/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),splitIcon=new Image,ejectIcon=new Image,noRanking=false;splitIcon.src="split.png";ejectIcon.src="feed.png";var wCanvas=document.createElement("canvas");var s=null;wHandle.isSpectating=false;wHandle.createParty=function(){wjQuery(".partyToken").val("agar.io/#cDloPsx");wjQuery("#helloContainer").attr("data-party-state","1")};wHandle.joinParty=function(a){wjQuery("#helloContainer").attr("data-party-state","4");a=decodeURIComponent(a).replace(/.*#/gim,"");}
wHandle.cancelParty=function(){wjQuery("#helloContainer").attr("data-party-state","0");wjQuery("#helloContainer").attr("data-gamemode","");};wHandle.setNick=function(arg){userNickName=arg;var fnicks=["porno","ibne","amcÄ±k","amcik","piĂ§","salak","orospu","pkk","sik","kĂ¼rdistan","kurdistan","agarlove","agarlove.com","sikeyim","sikim","yonetici","yonetim","YĂ–NETÄ°CÄ°","YONETICI","yĂ¶netici",".com","admin","yarah","yarrah","agario","sike","s1ke","anan","agar love","agar love.com","agar love. com","agar.love","agar.love.com","AgarLove.Com"];var nctr=arg.toLowerCase();if(fnicks.indexOf(nctr)>-1){alert("Enter Nick ! / GeĂ§ersiz Nick Girdiniz !");}else{hideOverlays();sendNickName();wjQuery("#mini-map-wrapper").show();userScore=0
wjQuery(".btn-needs-server").prop("disabled",false);}};wHandle.setRegion=setRegion;wHandle.setSkins=function(arg){showSkin=arg};wHandle.setNames=function(arg){showName=arg};wHandle.setDarkTheme=function(arg){showDarkTheme=arg};wHandle.setColors=function(arg){showColor=arg};wHandle.setShowMass=function(arg){showMass=arg};wHandle.setszoom=function(arg){szoom=arg};wHandle.setSmooth=function(arg){smoothRender=arg?2:.4};wHandle.setHideChat=function(arg){hideChat=arg;if(arg){wjQuery("#chat_textbox").hide();}
else{wjQuery("#chat_textbox").show();}};wHandle.setSkipStat=function(arg){skipStats=arg;};wHandle.closeStats=function(){wjQuery("#statoverlay").hide();wjQuery("#stats").hide();wjQuery("#overlays").fadeIn(200);}
wHandle.spectate=function(){userNickName=null;wHandle.isSpectating=true;sendUint8(1);hideOverlays()};wHandle.toggleChatMode=toggleChatMode;wHandle.setGameMode=function(arg){ca(arg);};wHandle.setAcid=function(arg){xa=arg};if(null!=wHandle.localStorage){if(null==wHandle.localStorage.AB8){wHandle.localStorage.AB8=~~(100*Math.random());}
Ra=+wHandle.localStorage.AB8;wHandle.ABGroup=Ra;}
setTimeout(function(){},3E5);setInterval(function(){var a=$b();0!=a&&(++Sa,0==R&&(R=a),R=Math.min(R,a))},1E3);setInterval(function(){!0&&zg.push(calcUserScore()/ 100)
},1E3/60);var T={ZW:"EU-London"};wHandle.connect=wsConnect;var data={"action":"test"};wjQuery.ajax({type:"POST",dataType:"json",url:"checkdir.php",data:data,success:function(data){knownNameDict=data['names'].split(";");wHandle.knownNameDict=knownNameDict;}});var delay=500,oldX=-1,oldY=-1,Canvas=null,z=1,scoreText=null,skins={},knownNameDict="poland;usa;china;russia;canada;australia;spain;brazil;germany;ukraine;france;sweden;chaplin;north korea;south korea;japan;united kingdom;earth;greece;latvia;lithuania;estonia;finland;norway;cia;maldivas;austria;nigeria;reddit;yaranaika;confederate;9gag;indiana;4chan;italy;bulgaria;tumblr;2ch.hk;hong kong;portugal;jamaica;german empire;mexico;sanik;switzerland;croatia;chile;indonesia;bangladesh;thailand;iran;iraq;peru;moon;botswana;bosnia;netherlands;european union;taiwan;pakistan;hungary;satanist;qing dynasty;matriarchy;patriarchy;feminism;ireland;texas;facepunch;prodota;cambodia;steam;piccolo;ea;india;kc;denmark;quebec;ayy lmao;sealand;bait;tsarist russia;origin;vinesauce;stalin;belgium;luxembourg;stussy;prussia;8ch;argentina;scotland;sir;romania;belarus;wojak;doge;nasa;byzantium;imperial japan;french kingdom;somalia;turkey;mars;pokerface;8;irs;receita federal;facebook;putin;merkel;tsipras;obama;kim jong-un;dilma;hollande".split(";"),knownNameDict_noDisp="8;nasa;putin;merkel;tsipras;obama;kim jong-un;dilma;hollande".split(";"),ib=["_canvas'blob"];Cell.prototype={id:0,points:null,pointsAcc:null,name:null,nameCache:null,sizeCache:null,x:0,y:0,size:0,ox:0,oy:0,oSize:0,nx:0,ny:0,nSize:0,flag:0,updateTime:0,updateCode:0,drawTime:0,destroyed:false,isVirus:false,isAgitated:false,wasSimpleDrawing:true,destroy:function(){var tmp;for(tmp=0;tmp<nodelist.length;tmp++)
if(nodelist[tmp]==this){nodelist.splice(tmp,1);break}
delete nodes[this.id];tmp=playerCells.indexOf(this);if(-1!=tmp){ua=true;playerCells.splice(tmp,1);}
tmp=nodesOnScreen.indexOf(this.id);if(-1!=tmp){nodesOnScreen.splice(tmp,1);}
this.destroyed=true;Cells.push(this)},getNameSize:function(){return Math.max(~~(.3*this.size),24)},setName:function(a){if(this.name=a){if(null==this.nameCache){this.nameCache=new UText(this.getNameSize(),"#FFFFFF",true,"#000000");this.nameCache.setValue(this.name);}else{this.nameCache.setSize(this.getNameSize());this.nameCache.setValue(this.name);}}},createPoints:function(){for(var samplenum=this.getNumPoints();this.points.length>samplenum;){var rand=~~(Math.random()*this.points.length);this.points.splice(rand,1);this.pointsAcc.splice(rand,1)}
if(0==this.points.length&&0<samplenum){this.points.push({ref:this,size:this.size,x:this.x,y:this.y});this.pointsAcc.push(Math.random()-.5);}
while(this.points.length<samplenum){var rand2=~~(Math.random()*this.points.length),point=this.points[rand2];this.points.splice(rand2,0,{ref:this,size:point.size,x:point.x,y:point.y});this.pointsAcc.splice(rand2,0,this.pointsAcc[rand2])}},getNumPoints:function(){if(0==this.id)return 16;var a=10;if(20>this.size)a=0;if(this.isVirus)a=30;var b=this.size;if(!this.isVirus)(b*=viewZoom);b*=z;if(this.flag&32)(b*=.25);return~~Math.max(b,a);},movePoints:function(){this.createPoints();for(var points=this.points,pointsacc=this.pointsAcc,numpoints=points.length,i=0;i<numpoints;++i){var pos1=pointsacc[(i- 1+ numpoints)%numpoints],pos2=pointsacc[(i+ 1)%numpoints];pointsacc[i]+=(Math.random()-.5)*(this.isAgitated?3:1);pointsacc[i]*=.7;10<pointsacc[i]&&(pointsacc[i]=10);-10>pointsacc[i]&&(pointsacc[i]=-10);pointsacc[i]=(pos1+ pos2+ 8*pointsacc[i])/ 10
}
for(var ref=this,isvirus=this.isVirus?0:(this.id/1E3+ timestamp/1E4)%(2*Math.PI),j=0;j<numpoints;++j){var f=points[j].size,e=points[(j- 1+ numpoints)%numpoints].size,m=points[(j+ 1)%numpoints].size;if(15<this.size&&null!=qTree&&20<this.size*viewZoom&&0!=this.id){var l=false,n=points[j].x,q=points[j].y;qTree.retrieve2(n- 5,q- 5,10,10,function(a){if(a.ref!=ref&&25>(n- a.x)*(n- a.x)+(q- a.y)*(q- a.y)){l=true;}});if(!l&&points[j].x<leftPos||points[j].y<topPos||points[j].x>rightPos||points[j].y>bottomPos){l=true;}
if(l){if(0<pointsacc[j]){(pointsacc[j]=0);}
pointsacc[j]-=1;}}
f+=pointsacc[j];0>f&&(f=0);f=this.isAgitated?(19*f+ this.size)/ 20 : (12 * f + this.size) / 13;
points[j].size=(e+ m+ 8*f)/ 10;
e=2*Math.PI/numpoints;m=this.points[j].size;this.isVirus&&0==j%2&&(m+=5);points[j].x=this.x+ Math.cos(e*j+ isvirus)*m;points[j].y=this.y+ Math.sin(e*j+ isvirus)*m}},updatePos:function(){if(0==this.id)return 1;var a;a=(timestamp- this.updateTime)/ 120;
a=0>a?0:1<a?1:a;var b=0>a?0:1<a?1:a;this.getNameSize();if(this.destroyed&&1<=b){var c=Cells.indexOf(this);-1!=c&&Cells.splice(c,1)}
this.x=a*(this.nx- this.ox)+ this.ox;this.y=a*(this.ny- this.oy)+ this.oy;this.size=b*(this.nSize- this.oSize)+ this.oSize;return b;},shouldRender:function(){if(0==this.id){return true}else{return!(this.x+ this.size+ 40<nodeX- canvasWidth/2/viewZoom||this.y+ this.size+ 40<nodeY- canvasHeight/2/viewZoom||this.x- this.size- 40>nodeX+ canvasWidth/2/viewZoom||this.y- this.size- 40>nodeY+ canvasHeight/2/viewZoom);}},drawOneCell:function(ctx){if(this.shouldRender()){var b=(0!=this.id&&!this.isVirus&&!this.isAgitated&&smoothRender>viewZoom);if(5>this.getNumPoints())b=true;if(this.wasSimpleDrawing&&!b)
for(var c=0;c<this.points.length;c++)this.points[c].size=this.size;this.wasSimpleDrawing=b;ctx.save();this.drawTime=timestamp;c=this.updatePos();this.destroyed&&(ctx.globalAlpha*=1- c);ctx.lineWidth=10;ctx.lineCap="round";ctx.lineJoin=this.isVirus?"miter":"round";if(showColor){ctx.fillStyle="#FFFFFF";ctx.strokeStyle="#AAAAAA";}else{ctx.fillStyle=this.color;ctx.strokeStyle=this.color;}
if(b){ctx.beginPath();ctx.arc(this.x,this.y,this.size,0,2*Math.PI,false);}
else{this.movePoints();ctx.beginPath();var d=this.getNumPoints();ctx.moveTo(this.points[0].x,this.points[0].y);for(c=1;c<=d;++c){var e=c%d;ctx.lineTo(this.points[e].x,this.points[e].y)}}
ctx.closePath();var skinName=this.name.toLowerCase();if(skinName.indexOf('[')!=-1){var clanStart=skinName.indexOf('[');var clanEnd=skinName.indexOf(']');skinName=skinName.slice(clanStart+ 1,clanEnd);}
if(!this.isAgitated&&showSkin&&':teams'!=gameMode){if(-1!=knownNameDict.indexOf(skinName)){if(!skins.hasOwnProperty(skinName)){skins[skinName]=new Image;skins[skinName].src=SKIN_URL+ skinName+'.png';}
if(0!=skins[skinName].width&&skins[skinName].complete){c=skins[skinName];}else{c=null;}}else{c=null;}}else{c=null;}
c=(e=c)?-1!=ib.indexOf(skinName):false;b||ctx.stroke();ctx.fill();if(!(null==e||c)){ctx.save();ctx.clip();ctx.drawImage(e,this.x- this.size,this.y- this.size,2*this.size,2*this.size);ctx.restore();}
if((showColor||15<this.size)&&!b){ctx.strokeStyle='#000000';ctx.globalAlpha*=.1;ctx.stroke();}
ctx.globalAlpha=1;if(null!=e&&c){ctx.drawImage(e,this.x- 2*this.size,this.y- 2*this.size,4*this.size,4*this.size);}
c=-1!=playerCells.indexOf(this);var ncache;if(0!=this.id){var b=~~this.y;if((showName||c)&&this.name&&this.nameCache&&(null==e||-1==knownNameDict_noDisp.indexOf(skinName))){ncache=this.nameCache;ncache.setValue(this.name);ncache.setSize(this.getNameSize());var ratio=Math.ceil(10*viewZoom)/ 10;
ncache.setScale(ratio);var rnchache=ncache.render(),m=~~(rnchache.width/ratio),h=~~(rnchache.height/ratio);ctx.drawImage(rnchache,~~this.x-~~(m/2),b-~~(h/2),m,h);b+=rnchache.height/2/ratio+ 4}
if(showMass&&(c||0==playerCells.length&&(!this.isVirus||this.isAgitated)&&20<this.size)){if(null==this.sizeCache){this.sizeCache=new UText(this.getNameSize()/ 2, "#FFFFFF", true, "#000000")
}
c=this.sizeCache;c.setSize(this.getNameSize()/ 2);
c.setValue(~~(this.size*this.size/100));ratio=Math.ceil(10*viewZoom)/ 10;
c.setScale(ratio);e=c.render();m=~~(e.width/ratio);h=~~(e.height/ratio);ctx.drawImage(e,~~this.x-~~(m/2),b-~~(h/2),m,h);}}
ctx.restore()}}};UText.prototype={_value:"",_color:"#000000",_stroke:false,_strokeColor:"#000000",_size:16,_canvas:null,_ctx:null,_dirty:false,_scale:1,setSize:function(a){if(this._size!=a){this._size=a;this._dirty=true;}},setScale:function(a){if(this._scale!=a){this._scale=a;this._dirty=true;}},setStrokeColor:function(a){if(this._strokeColor!=a){this._strokeColor=a;this._dirty=true;}},setValue:function(a){if(a!=this._value){this._value=a;this._dirty=true;}},render:function(){if(null==this._canvas){this._canvas=document.createElement("canvas");this._ctx=this._canvas.getContext("2d");}
if(this._dirty){this._dirty=false;var canvas=this._canvas,ctx=this._ctx,value=this._value,scale=this._scale,fontsize=this._size,font=fontsize+'px Ubuntu';ctx.font=font;var h=~~(.2*fontsize);canvas.width=(ctx.measureText(value).width+
6)*scale;canvas.height=(fontsize+ h)*scale;ctx.font=font;ctx.scale(scale,scale);ctx.globalAlpha=1;ctx.lineWidth=3;ctx.strokeStyle=this._strokeColor;ctx.fillStyle=this._color;this._stroke&&ctx.strokeText(value,3,fontsize- h/2);ctx.fillText(value,3,fontsize- h/2)}
return this._canvas},getWidth:function(){return(ctx.measureText(this._value).width+
6);}};Date.now||(Date.now=function(){return(new Date).getTime()});var Quad={init:function(args){function Node(x,y,w,h,depth){this.x=x;this.y=y;this.w=w;this.h=h;this.depth=depth;this.items=[];this.nodes=[]}
var c=args.maxChildren||2,d=args.maxDepth||4;Node.prototype={x:0,y:0,w:0,h:0,depth:0,items:null,nodes:null,exists:function(selector){for(var i=0;i<this.items.length;++i){var item=this.items[i];if(item.x>=selector.x&&item.y>=selector.y&&item.x<selector.x+ selector.w&&item.y<selector.y+ selector.h)return true}
if(0!=this.nodes.length){var self=this;return this.findOverlappingNodes(selector,function(dir){return self.nodes[dir].exists(selector)})}
return false;},retrieve:function(item,callback){for(var i=0;i<this.items.length;++i)callback(this.items[i]);if(0!=this.nodes.length){var self=this;this.findOverlappingNodes(item,function(dir){self.nodes[dir].retrieve(item,callback)})}},insert:function(a){if(0!=this.nodes.length){this.nodes[this.findInsertNode(a)].insert(a);}else{if(this.items.length>=c&&this.depth<d){this.devide();this.nodes[this.findInsertNode(a)].insert(a);}else{this.items.push(a);}}},findInsertNode:function(a){return a.x<this.x+ this.w/2?a.y<this.y+ this.h/2?0:2:a.y<this.y+ this.h/2?1:3},findOverlappingNodes:function(a,b){return a.x<this.x+ this.w/2&&(a.y<this.y+ this.h/2&&b(0)||a.y>=this.y+ this.h/2&&b(2))||a.x>=this.x+ this.w/2&&(a.y<this.y+ this.h/2&&b(1)||a.y>=this.y+ this.h/2&&b(3))?true:false},devide:function(){var a=this.depth+ 1,c=this.w/2,d=this.h/2;this.nodes.push(new Node(this.x,this.y,c,d,a));this.nodes.push(new Node(this.x+ c,this.y,c,d,a));this.nodes.push(new Node(this.x,this.y+ d,c,d,a));this.nodes.push(new Node(this.x+ c,this.y+ d,c,d,a));a=this.items;this.items=[];for(c=0;c<a.length;c++)this.insert(a[c])},clear:function(){for(var a=0;a<this.nodes.length;a++)this.nodes[a].clear();this.items.length=0;this.nodes.length=0}};var internalSelector={x:0,y:0,w:0,h:0};return{root:new Node(args.minX,args.minY,args.maxX- args.minX,args.maxY- args.minY,0),insert:function(a){this.root.insert(a)},retrieve:function(a,b){this.root.retrieve(a,b)},retrieve2:function(a,b,c,d,callback){internalSelector.x=a;internalSelector.y=b;internalSelector.w=c;internalSelector.h=d;this.root.retrieve(internalSelector,callback)},exists:function(a){return this.root.exists(a)},clear:function(){this.root.clear()}}}};var ac=function(){function a(a,b,c,d,e){var f=b.getContext("2d"),g=b.width;b=b.height;a.color=e;a.setName(c);a.size=d;f.save();f.translate(g/2,b/2);a.drawOneCell(f);f.restore()}
for(var b=new Cell(-1,0,0,32,"#5bc0de",""),c=new Cell(-1,0,0,32,"#5bc0de",""),l=new Cell(-1,0,0,32,"#5bc0de",""),d="#ebc0de #ebc0de #ebc0de #ebc0de #0791ff #5a07ff #ff07fe #ffa507 #ff0774 #077fff #3aff07 #ff07ed #07a8ff #ff076e #3fff07 #ff0734 #07ff20 #ff07a2 #ff8207 #07ff0e".split(" "),f=[],g=0;g<d.length;++g){var h=g/d.length*12,p=30*Math.sqrt(g/d.length);f.push(new Cell(-1,Math.cos(h)*p,Math.sin(h)*p,10,d[g],""))}
Yb(f);var m=document.createElement("canvas");m.getContext("2d");m.width=m.height=70;a(c,m,"",26,d[Math.round(Math.random()*d.length)]);return function(){wjQuery(".cell-spinner").filter(":visible").each(function(){var c=wjQuery(this),d=Date.now(),f=this.width,g=this.height,h=this.getContext("2d");h.clearRect(0,0,f,g);h.save();h.translate(f/2,g/2);for(var k=0;10>k;++k)h.drawImage(m,(.1*d+ 80*k)%(f+ 140)- f/2- 70- 35,g/2*Math.sin((.001*d+ k)%Math.PI*2)- 35,70,70);h.restore();(c=c.attr("data-itr"))&&(c=da(c));a(b,this,c||"",+wjQuery(this).attr("data-size"),"#5bc0de")});wjQuery("#statsPellets").filter(":visible").each(function(){wjQuery(this);var b=this.width,c=this.height;this.getContext("2d").clearRect(0,0,b,c);for(b=0;b<f.length;b++)a(f[b],this,"",f[b].size,f[b].color)})}}();wjQuery(function(){function renderFavicon(){if(0<playerCells.length){redCell.color=playerCells[0].color;Pa=playerCells[0].color;redCell.setName(playerCells[0].name);}
ctx.clearRect(0,0,32,32);ctx.save();ctx.translate(16,16);ctx.scale(.4,.4);redCell.drawOneCell(ctx);ctx.restore();var favicon=document.getElementById("favicon"),oldfavicon=favicon.cloneNode(true);oldfavicon.setAttribute("href",favCanvas.toDataURL("image/png"));favicon.parentNode.replaceChild(oldfavicon,favicon)}
var redCell=new Cell(0,0,0,32,"#ED1C24",""),favCanvas=document.createElement("canvas");favCanvas.width=32;favCanvas.height=32;var ctx=favCanvas.getContext("2d");renderFavicon();setInterval(renderFavicon,1E3);setInterval(drawChatBoard,1E3);});wHandle.onload=gameLoop})(window,window.jQuery);